### Virtual Machine monitor

**Виртуализация** реализуется за счет VMM (Virtual Machine Monitor), процесса, который обеспечивает одновременное выполнение нескольких операционных систем на одном и том же сервере. То есть если у нас есть сервер - у него всегда есть некий набор аппаратных ресурсов, Оперативная память, Процессорное время, Место на физическом носителе. VMM выделяет определенный набор этих ресурсов физического сервера и выдает их виртуальным машинам, которые этими ресурсами пользуется.

![|700x393](Виртуализация.%20Базовые%20принципы-10.10.2025-16_10.png)

Существуют строгие зоны изолированности. Например, если одной виртуальной машине выделен какой-то участок памяти на хост-машине, только эта конкретная виртуальная машина будет имеет к нему доступ. В доступе к другим участкам памяти будет отказано, а другим виртуальным машинам будет запрещено иметь доступ к памяти, зарезервированному для нашей виртуалки.

Еще одна очень важная особенность виртуальных машин. Аппаратные ресурсы каждой виртуальной машины подражают функциям физического оборудования. Например, у каждой виртуальной машины есть свое абстрактное ядро, которое можно гибко настраивать никак не затрагивая ядро хость системы, где наша виртуалка поднята.

Есть 2 типа полной виртуализации:

- Аппаратная виртуализация, она же type 1
- Программная виртуализация, она же type 2

### Аппаратная виртуализация (Type 1)

**Аппаратный** тип виртуализации - Это когда роль VMM берут на себя гипервизоры.

Обычно, когда загружается операционная система, запускается загрузчик, однако вместо него можно запустить специальную программу, которая будет выполняться на уровне ядра - гипервизор. (Hyper-V, Xen, ESX/ESXi, vmware ESX, KVM…). Гипервизор это и есть Virtual Machine Monitor, о котором мы говорили ранее, он работает без операционной системы напрямую с аппаратным обеспечением компьютера. То есть Гипервизор напрямую выделяет ресурсы для виртуальных машин и управляет ими.
![|700x393](Виртуализация.%20Базовые%20принципы-10.10.2025-16_10-1.png)

Гипервизоры первого типа показывают высокое быстродействие, однако обладают очевидным недостатком – необходимость поддерживать драйверы устройств приводит к сужению списка совместимого аппаратного обеспечения.
### Программная виртуализация (Type 2)

**Програмный** тип виртуализации - Это когда на уже запущенном сервере, у которого работает какая-то операционная система, VMM работает как отдельная программа которая используя средства используемой Операционной Системы для создания Виртуальных машин. Самые популярные программного типа виртуализации это vmware workstation, virtualBox, Parallels.
![|700x393](Виртуализация.%20Базовые%20принципы-10.10.2025-16_10-2.png)

### Гипервизоры гибридного типа (hybrid)

Гибридный гипервизор сочетает в себе характеристики гипервизоров первого и второго типов – он выполняется поверх специализированной сервисной (или базовой) операционной системы. Сервисная ОС называется родительским разделом или доменом (parent partition в терминологии Hyper-V или domain dom0 в терминологии Xen). После установки гипервизора ядро ОС переходит в режим поддержки виртуализации и передает управление ресурсами процессора и памяти гипервизору. При этом родительский раздел берет на себя функцию обработки обращений к драйверам устройств и операциям ввода-вывода.

![|540x303](Виртуализация.%20Базовые%20принципы-10.10.2025-16_10-3.png)

Данный подход удобен с точки зрения совместимости с оборудованием: не требуется добавлять в гипервизор драйверы устройств (расширяется список совместимого аппаратного обеспечения). Также гипервизор освобождается от задачи обработки вызовов к драйверам устройств – эти вызовы обрабатывает сервисная ОС.